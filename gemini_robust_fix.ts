I will search for the file containing `calculateBestFitFontSize` to ensure I'm editing the correct file.
I will read the content of `src/lib/canvas/AutoFitText.ts` to understand the current implementation and prepare for the refactor.
I will read the existing test file `src/lib/canvas/__tests__/AutoFitText.test.ts` to understand how to write a reproduction test case for the bug.
